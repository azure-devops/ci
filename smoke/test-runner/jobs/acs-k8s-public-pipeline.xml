<?xml version='1.0' encoding='UTF-8'?>
<flow-definition plugin="workflow-job@2.15">
    <actions/>
    <description></description>
    <keepDependencies>false</keepDependencies>
    <properties>
        <org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>
            <triggers/>
        </org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>
    </properties>
    <definition class="org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition" plugin="workflow-cps@2.41">
        <script><![CDATA[
node {
    stage('SCM') {
        git branch: '$$testConfigBranch$$', url: '$$testConfigRepo$$'
    }

    stage('Deploy') {
        acsDeploy azureCredentialsId: 'sp',
            resourceGroupName: '$$resource-group$$',
            containerService: '$$k8sName$$ | Kubernetes',
            sshCredentialsId: 'ssh-credential',
            configFilePaths: '$$testConfigRoot$$/acs/acs-k8s-public-pipeline.yml'
    }
}
]]></script>
        <sandbox>true</sandbox>
    </definition>
    <triggers/>
    <disabled>false</disabled>
</flow-definition>
